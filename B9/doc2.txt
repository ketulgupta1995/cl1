The  following  program  creates  a pipe, and then forks to create a child process; the child inherits a duplicate set of  file descriptors that refer to the same pipe. After the fork, each process closes the descriptors that it doesn't need for the pipe. The parent  then writes the string contained in the program's command-line argument to the pipe, and the child reads this string a byte at a  time from the pipe and echoes it on standard output.
